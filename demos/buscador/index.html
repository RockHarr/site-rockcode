<!doctype html>
<html lang="es"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Demo C — Buscador de Trámites</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head><body class="p-3">
<a class="btn btn-link" href="/">← Volver</a>
<h1 class="h3">Buscador de Trámites</h1>
<p class="text-muted">JSON local + sinónimos simples (hook listo para FlexSearch/Lunr).</p>
<div class="input-group mb-3">
  <span class="input-group-text" id="lupa">🔎</span>
  <input class="form-control" id="q" placeholder="Buscar: licencia, permiso, certificado…" aria-describedby="lupa">
</div>
<ul class="list-group" id="resultados" aria-live="polite"></ul>
<script>
const syn = { 'carnet':'cédula','carne':'cédula','licencia':'permiso' };
let items = [];
fetch('/assets/data/tramites.json').then(r=>r.json()).then(d=>{ items = d; });
document.getElementById('q').addEventListener('input', e=>{
  const q = e.target.value.toLowerCase().trim();
  const query = syn[q] || q;
  const out = document.getElementById('resultados'); out.innerHTML='';
  if(!query) return;
  const res = items.filter(t => (t.nombre + ' ' + (t.tags||[]).join(' ')).toLowerCase().includes(query)).slice(0,10);
  res.forEach(t=>{
    const li = document.createElement('li'); li.className='list-group-item';
    li.innerHTML = `<strong>${t.nombre}</strong><br><small>${t.entidad||''}</small>`;
    out.appendChild(li);
  });
});
</script>
</body></html>
